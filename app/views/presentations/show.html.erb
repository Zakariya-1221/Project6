<h1><%= @presentation.title %></h1>
<p><%= @presentation.description %></p>
<p><strong>Presenter:</strong> <%= @presentation.presenter&.name || 'No presenter assigned' %></p>

<div class="feedbacks-section">
  <% if current_user.admin? || @presentation.presenter == current_user %>
    <h2>All Feedback</h2>
    <% if @feedbacks.any? %>
      <% @feedbacks.each do |feedback| %>
        <%= render 'feedbacks/feedback', feedback: feedback %>
      <% end %>
    <% else %>
      <p>No feedback yet.</p>
    <% end %>
  <% end %>
</div>

<div class="feedback-actions">
  <% if current_user != @presentation.presenter %>
    <%= link_to 'Give Feedback', new_presentation_feedback_path(@presentation), class: 'button' %>
  <% end %>
</div>

<div class="actions">
  <%= link_to 'Back to Presentations', presentations_path %>
  <% if current_user.admin? || current_user == @presentation.presenter %>
    <%= link_to 'Edit Presentation', edit_presentation_path(@presentation) %>
    <%= button_to 'Delete Presentation', presentation_path(@presentation), 
                  method: :delete,
                  data: { confirm: 'Are you sure?' } %>
  <% end %>
</div>